<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<button>按钮4</button>
<button>按钮5</button>

<script>
    // ES5中的var是没有块级作用域的
    // ES6中的let是有块级作用域（if/for）
    // // 在ES5之前，因为if和for都没有块级作用域的概念，所以再很多时候，
    // 我们必须借助于function的作用域来解决外面变量的问题
    // ES6中加入了let，let它是有if和for的块级作用域
    // 1. 变量作用域：变量在什么范围内是可用的
    {
        var name = 'why';
        console.log(name)
    }
    console.log(name);  // var没有块级作用域

    // 2.没有块级作用域，引起的问题(if的块级)
    // var func;
    // if (true) {
    //   var name = 'why';
    //
    //   func = function () {
    //     console.log(name);
    //   }
    // }
    // name = 'kobe'
    // func()
    // console.log(name);
    // func()
    var name = 'why'

    function abc(bbb) {  //bbb = 'why'
        console.log(bbb);
    }

    abc(name)
    name = 'kobe'


    // 3.for的块级也没有作用域
    // i变成了5,为了解决问题，搞个闭包
    // 为什么闭包可以解决我们的问题：因为函数是一个作用域
    // var btns = document.getElementsByTagName('button');
    // for (var i = 0; i < btns.length; i++) {
    //   (function (i) {
    //     btns[i].addEventListener('click', function () {
    //       console.log('第' + i + '个按钮被点击');
    //     })
    //   })(i)
    // }

    // function () {  // num:0
    //   console.log('第' + i + '个按钮被点击');
    // }
    // function () {  // num:1
    //   console.log('第' + i + '个按钮被点击');
    // }
    // function () {  // num:2
    //   console.log('第' + i + '个按钮被点击');
    // }
    // function () {  // num:3
    //   console.log('第' + i + '个按钮被点击');
    // }
    // function () {  // num:4
    //   console.log('第' + i + '个按钮被点击');
    // }

    const btns = document.getElementsByTagName('button')
    for (let i = 0; i < btns.length; i++) {
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }
    // ES5用的是同一个i,一个i改变了，都改变了
    {
        i = 0
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }

    {
        i = 1
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }

    {
        i = 2
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }

    {
        i = 3
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }

    {
        i = 4
        btns[i].addEventListener('click', function () {
            console.log('第' + i + '个按钮被点击');
        })
    }
</script>

</body>
</html>